<div class="container mt-4">

  <!-- Back Button -->
  <button type="button" class="btn-back" (click)="onBack()">
    <i class="bi bi-arrow-left"></i> <span>Back</span>
  </button>

  <!-- Page Title -->
  <h2 class="mb-4 mt-3">{{ editing ? 'Edit' : 'Create' }} character</h2>

  <!-- Character Form -->
  <form [formGroup]="characterForm" (ngSubmit)="onSubmit()">

    <!-- Name Input Field -->
    <div class="mb-3">
      <label class="form-label">Name</label>
      <input formControlName="name" class="form-control bg-dark text-light border-0 rounded-3"
             placeholder="Name"
             [ngClass]="{'is-invalid': characterForm.get('name')?.invalid && characterForm.get('name')?.touched}"/>
      <div class="invalid-feedback">
        Name is required.
      </div>
    </div>

    <!-- Species & Gender Row -->
    <div class="row">
      <!-- Species Dropdown -->
      <div class="col-md-6 mb-3">
        <label class="form-label">Species</label>
        <select formControlName="species" class="form-select bg-dark text-light border-0 rounded-3"
                [ngClass]="{'is-invalid': characterForm.get('species')?.invalid && characterForm.get('species')?.touched}">
          <option *ngFor="let specie of speciesList" [value]="specie">{{ specie }}</option>
        </select>
        <div class="invalid-feedback">
          Species is required.
        </div>
      </div>

      <!-- Gender Dropdown -->
      <div class="col-md-6 mb-3">
        <label class="form-label">Gender</label>
        <select formControlName="gender" class="form-select bg-dark text-light border-0 rounded-3"
                [ngClass]="{'is-invalid': characterForm.get('gender')?.invalid && characterForm.get('gender')?.touched}">
          <option *ngFor="let gender of genderList" [value]="gender">{{ gender }}</option>
        </select>
        <div class="invalid-feedback">
          Gender is required.
        </div>
      </div>
    </div>

    <!-- Status & Type Row -->
    <div class="row">
      <!-- Status Dropdown -->
      <div class="col-md-6 mb-3">
        <label class="form-label">Status</label>
        <select formControlName="status" class="form-select bg-dark text-light border-0 rounded-3"
                [ngClass]="{'is-invalid': characterForm.get('status')?.invalid && characterForm.get('status')?.touched}">
          <option *ngFor="let status of statusList" [value]="status">{{ status }}</option>
        </select>
        <div class="invalid-feedback">
          Status is required.
        </div>
      </div>

      <!-- Type Dropdown -->
      <div class="col-md-6 mb-3">
        <label class="form-label">Type</label>
        <select formControlName="type" class="form-select bg-dark text-light border-0 rounded-3"
                [ngClass]="{'is-invalid': characterForm.get('type')?.invalid && characterForm.get('type')?.touched}">
          <option *ngFor="let type of typesList" [value]="type">{{ type }}</option>
        </select>
        <div class="invalid-feedback">
          Type is required.
        </div>
      </div>
    </div>

    <!-- Origin Input Field -->
    <div class="mb-3">
      <label class="form-label">Origin</label>
      <input formControlName="origin" class="form-control bg-dark text-light border-0 rounded-3" placeholder="Origin"/>
    </div>

    <!-- Location Input Field -->
    <div class="mb-3">
      <label class="form-label">Location</label>
      <input formControlName="location" class="form-control bg-dark text-light border-0 rounded-3"
             placeholder="Location"/>
    </div>

    <!-- Image URL Input Field -->
    <div class="mb-3">
      <label class="form-label">Image URL</label>
      <input formControlName="image" class="form-control bg-dark text-light border-0 rounded-3"
             placeholder="Image URL"/>
    </div>

    <!-- Action Buttons (Cancel / Submit) -->
    <div class="d-flex gap-2 justify-content-end mt-4">
      <button type="button" class="btn btn-custom" (click)="onCancel()">Cancel</button>
      <button type="submit" class="btn btn-custom-action">
        {{ editing ? 'Save Changes' : 'Create Character' }}
      </button>
    </div>

  </form>
</div>
